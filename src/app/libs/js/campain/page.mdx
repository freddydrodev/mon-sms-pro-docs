---
sidebarTitle: Campagnes SMS üì®
title: Gestion des Campagnes SMS | SDK JavaScript Mon SMS PRO
description: Guide complet pour cr√©er et g√©rer vos campagnes SMS avec notre SDK JavaScript. Envoyez des messages personnalis√©s, g√©rez les destinataires et optimisez vos communications SMS.
keywords: campagnes SMS, envoi SMS, messages SMS, JavaScript SMS, API SMS, TypeScript SMS, SMS personnalis√©s, encodage SMS, segmentation SMS
---

import { Callout, Table } from "nextra/components";

# Gestion des Campagnes SMS

Les campagnes SMS vous permettent d'envoyer des messages personnalis√©s √† un groupe de destinataires. Notre SDK offre une solution compl√®te pour cr√©er et g√©rer vos campagnes, avec support pour les messages standards, programm√©s et r√©p√©t√©s.

## Fonctionnalit√©s

- Envoi de messages personnalis√©s
- Support des messages programm√©s
- Support des messages r√©p√©t√©s
- Gestion des groupes de destinataires
- Personnalisation des exp√©diteurs
- Suivi des campagnes

## Types de campagnes

Notre API supporte plusieurs types de campagnes :

1. **Campagnes standards** : Envoi imm√©diat de messages
2. **Campagnes programm√©es** : Envoi √† une date et heure pr√©cises
3. **Campagnes r√©p√©t√©es** : Envoi r√©current selon un planning d√©fini

## Limites des messages

Les SMS sont soumis √† des limites de caract√®res selon l'encodage utilis√© :

- **GSM-7** : 160 caract√®res par message
- **UCS-2** : 70 caract√®res par message (pour les caract√®res sp√©ciaux)
- **Messages longs** : Segmentation automatique (153 caract√®res par segment)

<Callout type="warning" emoji="‚ö†Ô∏è">
  Important : Incluez l'indicatif du pays sans le symbole **(+)** avant le
  num√©ro de t√©l√©phone. Exemple : "22500000000" pour un num√©ro ivoirien.
</Callout>

## Utilisation

Apr√®s avoir [initialis√©](/libs/js/get-started/#init) votre biblioth√®que, vous pouvez utiliser la propri√©t√© `campain` pour g√©rer vos campagnes SMS.

### Cr√©ation d'une campagne

```ts filename="/api/campain" showLineNumbers {1,6-22}
import { sms } from "@/libs/sms";

const createCampain = async () => {
  try {
    // Cr√©ation d'une nouvelle campagne avec contacts, message et exp√©diteur
    const res = await sms.campain.create({
      contacts: [
        // saved contact
        {
          id: "contact_1",
          phone: "22500000000",
          name: "John Doe",
        },
        // new contact (will be saved if number does not exist)
        {
          phone: "2250101010101",
        },
      ],
      groupsIds: ["group_1", "group_2"], // will add groups contacts to the campain
      text: "Bonjour @nom_complet bon d√©but de semaine.",
      senderId: "My Sender", // will go if active or will use the default sender
    });

    console.log(res);
  } catch (error) {
    console.error(error);
  }
};
```

### Cr√©ation d'une campagne programm√©e

```ts filename="/api/campain/scheduled" showLineNumbers {1,6-18}
import { sms } from "@/libs/sms";

const createScheduledCampain = async () => {
  try {
    // Cr√©ation d'une campagne programm√©e
    const res = await sms.campain.create({
      contacts: [
        {
          id: "contact_1",
          phone: "22500000000",
          name: "John Doe",
        },
      ],
      text: "Rappel : Votre rendez-vous est demain √† 10h.",
      senderId: "My Sender",
      type: "SCHEDULED",
      scheduledDate: new Date("2024-03-20T10:00:00Z"), // checking date and time
    });

    console.log(res);
  } catch (error) {
    console.error(error);
  }
};
```

<Callout type="warning" emoji="‚ö†Ô∏è">
  Important : Les dates programm√©es doivent √™tre des multiples de 15 minutes.
  Par exemple : 10:00, 10:15, 10:30, 10:45.
</Callout>

### Cr√©ation d'une campagne r√©p√©t√©e

```ts filename="/api/campain/recurring" showLineNumbers {1,6-22}
import { sms } from "@/libs/sms";

const createRecurringCampain = async () => {
  try {
    // Cr√©ation d'une campagne r√©p√©t√©e
    const res = await sms.campain.create({
      contacts: [
        {
          id: "contact_1",
          phone: "22500000000",
          name: "John Doe",
        },
      ],
      text: "Rappel hebdomadaire : N'oubliez pas votre s√©ance.",
      senderId: "My Sender",
      type: "RECURRING",
      recurring: {
        monday: new Date("2024-03-18T09:00:00Z"), // checking day and time, not the date
        wednesday: new Date("2024-03-20T09:00:00Z"), // checking day and time, not the date
        friday: new Date("2024-03-22T09:00:00Z"), // checking day and time, not the date
      },
    });

    console.log(res);
  } catch (error) {
    console.error(error);
  }
};
```

<Callout type="warning" emoji="‚ö†Ô∏è">
  Important : Les heures de r√©p√©tition doivent √™tre des multiples de 15 minutes.
  Par exemple : 09:00, 09:15, 09:30, 09:45.
</Callout>

<Callout type="info">
  La variable `sms` est l'instance initialis√©e de notre SDK. Elle fournit la
  m√©thode `create` pour lancer de nouvelles campagnes SMS avec des options de
  personnalisation avanc√©es.
</Callout>

## Documentation de l'API

### sms.campain.create

Cr√©e une nouvelle campagne SMS avec les param√®tres sp√©cifi√©s.

<Table style={{ marginTop: 20 }}>
  <thead>
    <Table.Tr>
      <Table.Th>Nom</Table.Th>
      <Table.Th>Description</Table.Th>
      <Table.Th>Type</Table.Th>
      <Table.Th>Facultatif</Table.Th>
      <Table.Th>Valeur par d√©faut</Table.Th>
    </Table.Tr>
  </thead>
  <tbody>
    <Table.Tr>
      <Table.Td>name</Table.Td>
      <Table.Td>Nom de la campagne</Table.Td>
      <Table.Td>Texte</Table.Td>
      <Table.Td>Oui</Table.Td>
      <Table.Td>{""}</Table.Td>
    </Table.Tr>
    <Table.Tr>
      <Table.Td>contacts</Table.Td>
      <Table.Td>Liste des contacts destinataires</Table.Td>
      <Table.Td>Array de Contact Object</Table.Td>
      <Table.Td>Non</Table.Td>
      <Table.Td>{[]}</Table.Td>
    </Table.Tr>
    <Table.Tr>
      <Table.Td>groupsIds</Table.Td>
      <Table.Td>Liste des identifiants de groupes</Table.Td>
      <Table.Td>Array de Texte</Table.Td>
      <Table.Td>Oui</Table.Td>
      <Table.Td>[]</Table.Td>
    </Table.Tr>
    <Table.Tr>
      <Table.Td>text</Table.Td>
      <Table.Td>Contenu du message</Table.Td>
      <Table.Td>Texte</Table.Td>
      <Table.Td>Non</Table.Td>
      <Table.Td>{""}</Table.Td>
    </Table.Tr>
    <Table.Tr>
      <Table.Td>senderId</Table.Td>
      <Table.Td>Identifiant de l'exp√©diteur</Table.Td>
      <Table.Td>Texte</Table.Td>
      <Table.Td>Oui</Table.Td>
      <Table.Td>{""}</Table.Td>
    </Table.Tr>
    <Table.Tr>
      <Table.Td>type</Table.Td>
      <Table.Td>Type de campagne</Table.Td>
      <Table.Td>"SMS" | "SCHEDULED" | "RECURRING"</Table.Td>
      <Table.Td>Oui</Table.Td>
      <Table.Td>SMS</Table.Td>
    </Table.Tr>
    <Table.Tr>
      <Table.Td>scheduledDate</Table.Td>
      <Table.Td>Date de programmation (pour type SCHEDULED)</Table.Td>
      <Table.Td>Date</Table.Td>
      <Table.Td>Oui</Table.Td>
      <Table.Td>undefined</Table.Td>
    </Table.Tr>
    <Table.Tr>
      <Table.Td>recurring</Table.Td>
      <Table.Td>Configuration des r√©p√©titions (pour type RECURRING)</Table.Td>
      <Table.Td>Object</Table.Td>
      <Table.Td>Oui</Table.Td>
      <Table.Td>undefined</Table.Td>
    </Table.Tr>
  </tbody>
</Table>

### Structure des contacts

```ts
type Contact = {
  id?: string; // Identifiant unique du contact (optionnel)
  phone: string; // Num√©ro de t√©l√©phone (format: 22500000000)
  name?: string; // Nom complet du contact (optionnel)
  firstName?: string; // Pr√©nom du contact (optionnel)
  lastName?: string; // Nom de famille du contact (optionnel)
  sex?: "M" | "F"; // Genre du contact (optionnel)
};
```

<Callout type="info">
  Seul le num√©ro de t√©l√©phone (`phone`) est obligatoire. Tous les autres champs
  sont optionnels. Si un contact n'existe pas, il sera automatiquement cr√©√© avec
  les informations fournies.
</Callout>

### Configuration des r√©p√©titions

```ts
type RecurringConfig = {
  monday?: Date;
  tuesday?: Date;
  wednesday?: Date;
  thursday?: Date;
  friday?: Date;
  saturday?: Date;
  sunday?: Date;
};
```

## Liste des campagnes

Vous pouvez r√©cup√©rer la liste de vos campagnes avec leurs d√©tails de base.

```ts filename="/api/campain/list" showLineNumbers {1,6}
import { sms } from "@/libs/sms";

const listCampaigns = async () => {
  try {
    // R√©cup√©ration de la liste des campagnes
    const res = await sms.campain.list();

    console.log(res);
  } catch (error) {
    console.error(error);
  }
};
```

### Param√®tres de la liste

<Table style={{ marginTop: 20 }}>
  <thead>
    <Table.Tr>
      <Table.Th>Nom</Table.Th>
      <Table.Th>Description</Table.Th>
      <Table.Th>Type</Table.Th>
      <Table.Th>Facultatif</Table.Th>
      <Table.Th>Valeur par d√©faut</Table.Th>
    </Table.Tr>
  </thead>
  <tbody>
    <Table.Tr>
      <Table.Td>page</Table.Td>
      <Table.Td>Num√©ro de page</Table.Td>
      <Table.Td>Nombre</Table.Td>
      <Table.Td>Oui</Table.Td>
      <Table.Td>1</Table.Td>
    </Table.Tr>
    <Table.Tr>
      <Table.Td>limit</Table.Td>
      <Table.Td>Nombre d'√©l√©ments par page</Table.Td>
      <Table.Td>Nombre</Table.Td>
      <Table.Td>Oui</Table.Td>
      <Table.Td>10</Table.Td>
    </Table.Tr>
    <Table.Tr>
      <Table.Td>status</Table.Td>
      <Table.Td>Filtre par statut</Table.Td>
      <Table.Td>"ALL" | "PENDING" | "SENT" | "FAILED"</Table.Td>
      <Table.Td>Oui</Table.Td>
      <Table.Td>"ALL"</Table.Td>
    </Table.Tr>
  </tbody>
</Table>

## D√©tails d'une campagne

Vous pouvez r√©cup√©rer les d√©tails complets d'une campagne sp√©cifique.

```ts filename="/api/campain/details" showLineNumbers {1,6}
import { sms } from "@/libs/sms";

const getCampaignDetails = async () => {
  try {
    // R√©cup√©ration des d√©tails d'une campagne
    const res = await sms.campain.get("campaign_id");

    console.log(res);
  } catch (error) {
    console.error(error);
  }
};
```

### Structure de r√©ponse

```ts
type CampaignDetails = {
  id: string; // Identifiant unique de la campagne
  name: string; // Nom de la campagne
  type: "SMS" | "SCHEDULED" | "RECURRING"; // Type de campagne
  status: "PENDING" | "SENT" | "FAILED"; // Statut de la campagne
  text: string; // Contenu du message
  senderId: string; // Identifiant de l'exp√©diteur
  scheduledDate?: Date; // Date de programmation (pour type SCHEDULED)
  recurring?: RecurringConfig; // Configuration des r√©p√©titions (pour type RECURRING)
  contacts: Contact[]; // Liste des contacts destinataires
  stats: {
    total: number; // Nombre total de messages
    sent: number; // Nombre de messages envoy√©s
    failed: number; // Nombre de messages √©chou√©s
    pending: number; // Nombre de messages en attente
  };
  createdAt: Date; // Date de cr√©ation
  updatedAt: Date; // Date de derni√®re mise √† jour
};
```

<Callout type="info">
  Les d√©tails d'une campagne incluent des statistiques en temps r√©el sur l'√©tat
  d'envoi des messages et la liste compl√®te des contacts destinataires.
</Callout>

## Bonnes pratiques

1. **Longueur des messages** : Respectez les limites de caract√®res
2. **Personnalisation** : Utilisez les variables disponibles (@nom_complet, etc.)
3. **Exp√©diteur** : Choisissez un senderId reconnu
4. **Test** : V√©rifiez vos messages avant envoi
5. **Segmentation** : √âvitez les messages trop longs
6. **Programmation** : V√©rifiez les fuseaux horaires pour les campagnes programm√©es
7. **R√©p√©titions** : Testez les campagnes r√©p√©t√©es sur un petit groupe
8. **Intervalles** : Utilisez des intervalles de 15 minutes pour les campagnes programm√©es et r√©p√©t√©es

## Cas d'utilisation

- Campagnes marketing
- Notifications clients
- Alertes et rappels
- Communications internes
- Service client
- Rappels de rendez-vous
- Alertes de s√©curit√©

## FAQ

### Comment personnaliser mes messages ?

Utilisez les variables comme @nom_complet dans votre texte pour personnaliser automatiquement chaque message.

### Comment g√©rer les messages longs ?

Les messages d√©passant la limite de caract√®res sont automatiquement segment√©s, chaque segment √©tant factur√© s√©par√©ment.

### Puis-je envoyer √† des groupes ?

Oui, utilisez le param√®tre `groupsIds` pour envoyer √† des groupes de contacts pr√©d√©finis.

### Comment programmer une campagne ?

Utilisez le type "SCHEDULED" avec le param√®tre `scheduledDate` pour d√©finir la date et l'heure d'envoi.

### Comment cr√©er une campagne r√©p√©t√©e ?

Utilisez le type "RECURRING" avec le param√®tre `recurring` pour d√©finir les jours et heures de r√©p√©tition.
